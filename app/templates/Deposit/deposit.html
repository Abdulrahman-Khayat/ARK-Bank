{% extends "layout/layout.html" %}
{% block content %}
   <div class="item card2" style="margin-bottom: 20px; ">
        <span style="font-size: 20px;font-weight: bold; margin-bottom: 15px;">New Deposit</span>
        <form action="" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

            <div class="form-inline">
                <label style="width: 13%;" for="name">Amount *</label> 
                
                {% if form.amount.errors %}
                    <!-- <input class="inputs form-control is-invalid" style="width: 40%;" name="amount" type="text" onkeypress="return onlyNumberKeyAndPeriod(event)"  placeholder="0.00"> &nbsp; SAR -->
                    {{ form.amount(class="inputs form-control is-invalid", style="width: 40%;", onkeypress="return onlyNumberKeyAndPeriod(event)",  placeholder="0.00" ,required=false)}}&nbsp; SAR

                    <div class="invalid-feedback" style="margin-left: 14%;">
					{% for error in form.amount.errors %}
						<span style="color:red;">{{ error }}</span>
					{% endfor %}
                        </div>
                {% else %}
                        <!-- <input class="inputs form-control" style="width: 40%;" name="amount" type="text" onkeypress="return onlyNumberKeyAndPeriod(event)"  placeholder="0.00">  -->
                        {{ form.amount(class="inputs form-control", style="width: 40%;", onkeypress="return onlyNumberKeyAndPeriod(event)",  placeholder="0.00" ,required=false)}}&nbsp; SAR
                {% endif %}	

            </div>


            <div class="form-inline">
                <label style="width: 13%;" for="name">Name on Card *</label>
                {% if form.card_name.errors%}
                {{ form.card_name(class="inputs form-control is-invalid", style="width: 40%;", maxlength="100", required=false) }}
                <div class="invalid-feedback" style="margin-left: 14%;">
                        {% for error in form.card_name.errors %}
                            <span style="color:red;">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    <!-- <input class="inputs form-control" style="width: 40%;" name="card_name" type="text" maxlength="100" > -->
                    {{ form.card_name(class="inputs form-control", style="width: 40%;", maxlength="100", required=false) }}

                {% endif %}	
            </div>
            
            
            
            <div class="form-inline">
                <label style="width: 13%;" for="name">Card Number *</label>
                {% if form.card_no.errors%}
                    <!-- <input class="inputs form-control is-invalid" style="width: 40%;" name="card_no" type="text" maxlength="16" onkeypress="return onlyNumberKey(event)"> -->
                    {{ form.card_no(class="inputs form-control is-invalid", style="width: 40%;", required=false, maxlength=16, onkeypress="return onlyNumberKey(event)") }}

                    <div class="invalid-feedback" style="margin-left: 14%;">
                        {% for error in form.card_no.errors %}
                            <span style="color:red;">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    <!-- <input class="inputs form-control" style="width: 40%;" name="card_no" type="text" maxlength="16" onkeypress="return onlyNumberKey(event)"> -->
                    {{ form.card_no(class="inputs form-control", style="width: 40%;", required=false, maxlength=16, onkeypress="return onlyNumberKey(event)") }}
                {% endif %}	             




            </div>
            <div class="form-inline">
                <label style="width: 13%;"  for="">Expiration Date *</label>
                
                {% if form.exp_month.errors or form.exp_year.errors %}
                    {% if form.exp_month.errors %}
                        {{form.exp_month(class="inputs form-control is-invalid", style="font-size: 13px; width: 12.8% !important; padding:8px 0; margin-right: 0.5% !important;", required=false)}}
                    {% else %}
                        {{form.exp_month(class="inputs form-control", style="font-size: 13px; width: 12.8% !important; padding:8px 0; margin-right: 0.5% !important;", required=false)}}

                    {% endif %}

                    {% if form.exp_year.errors %}
                        {{form.exp_year(class="inputs form-control is-invalid", style=" font-size: 13px; width: 16.8% !important; padding:8px 0; text-align: center;", required=false )}}
                    {% else %}
                    {{form.exp_year(class="inputs form-control", style=" font-size: 13px; width: 16.8% !important; padding:8px 0; text-align: center;", required=false )}}

                    {% endif %}

                    <div class="invalid-feedback" style="margin-left: 14%;">
                    
                        {% for error in form.exp_month.errors or form.exp_year.errors  %}
                            <span style="color:red;">{{ error }}</span>
                        {% endfor %}

                    </div>
                {% else %}
                
                    {{form.exp_month(class="inputs form-control", style="font-size: 13px; width: 12.8% !important; padding:8px 0; margin-right: 0.5% !important;", required=false)}}
             
                    {{form.exp_year(class="inputs form-control", style=" font-size: 13px; width: 16.8% !important; padding:8px 0; text-align: center;", required=false )}}

                {% endif %}	  



              
            </div>

            
            <div class="form-inline">
                <label style="width: 13%;" for="name">CVV *</label>
                {% if form.cvv.errors %}
                    <!-- <input class="inputs form-control is-invalid" style="width: 19.8%;" name="cvv" type="text" maxlength="3" onkeypress="return onlyNumberKey(event)"> -->
                    {{ form.cvv(class="inputs form-control is-invalid", style="width: 19.8%;", maxlength="3", onkeypress="return onlyNumberKey(event)", required=false)}}
                    <div class="invalid-feedback" style="margin-left: 14%;">
                    {% for error in form.cvv.errors %}
                        <span style="color:red;">{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
            <!-- <input class="inputs form-control" style="width: 19.8%;" name="cvv" type="text" maxlength="3" onkeypress="return onlyNumberKey(event)"> -->
            {{ form.cvv(class="inputs form-control ", style="width: 19.8%;", maxlength="3", onkeypress="return onlyNumberKey(event)", required=false)}}

            {% endif %}	


            </div>
            <div style="float: right;">
                <button  name='submit' value="Make Deposit">Make Deposit</button>
            </div>  
        </form>
    </div>
    <div class="item">
        <div class="title">
            <span style="font-size: 18px; ">Recent Deposits</span>
            <span style="float: right;"><a href="#">View All</a></span>
        </div>

        <table class="table table-hover ">
            <thead style="font-size: 13px;">
                <th style="padding-left: 0px !important; padding-right: 0px !important; width: 16%;">Transaction ID</th>
                <th style="padding-left: 0px !important; padding-right: 0px !important; width: 18%;">Date</th>
                <th style="padding-left: 0px !important; padding-right: 0px !important; width: 17%;">Amount (SAR)</th>
                <th style="padding-left: 0px !important; padding-right: 0px !important;width: 25%;">From</th>
            </thead>
             <tbody >
               
               {% for item in result %}
               
                    <tr style="font-size: 13px;">
                        <td style="padding-left: 0px !important; padding-right: 0px !important;">{{item.trans_ID}} </td>
                        <td style="padding-left: 0px !important; padding-right: 0px !important;">{{item.date}}</td>
                        <td style="padding-left: 0px !important; padding-right: 0px !important;">{{item.amount}}</td>
                        <td style="padding-left: 0px !important; padding-right: 0px !important;">{{item.from}}</td>
                    </tr>
                    
                {% endfor %}
            
                
            </tbody>
        </table>
    </div>

   


    <script> 
        function onlyNumberKey(evt) { 
              
            // Only ASCII charactar in that range allowed 
            var ASCIICode = (evt.which) ? evt.which : evt.keyCode 
            if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57)) 
                return false; 
            return true; 
        } 
    </script>
    <script> 
        var count = 0;
        var dotEntered = false;
        function onlyNumberKeyAndPeriod(evt) { 
              console.log(count);
            // Only ASCII charactar in that range allowed 
            var ASCIICode = (evt.which) ? evt.which : evt.keyCode 
            if(ASCIICode == 46 && !dotEntered){
                dotEntered = true;
                return true;
            
            }
            if ((ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))) 
                return false; 
            
            if(dotEntered && count != 2){
                count++;
                return true;
            }
            if(count == 2)
                return false;

            return true; 
        } 

        
    </script>
    
{% endblock content %}


            



